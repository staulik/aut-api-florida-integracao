pm.test("Status code is 400", function () {
    pm.response.to.have.status(400);
});

pm.test("A resposta é valida e deve ter um corpo", function () {
    pm.response.to.be.badRequest;
     pm.response.to.be.withBody;
     pm.response.to.be.json;
});

pm.test("Validar mensagem de erro para o campo 'pais'", function () {
    var jsonData = pm.response.json();
    var errors = jsonData.errors;
    
    pm.expect(errors[0].schemaPath).to.equal('#/properties/enderecos/items/properties/pais/maxLength');
    pm.expect(errors[0].params.limit).to.equal(20);
    pm.expect(errors[0].message).to.equal('não deve ser maior que 20 caracteres');
});
